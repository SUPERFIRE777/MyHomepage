<!DOCTYPE html>
<html>
    <head>
        <title>数学</title>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="style.css">
        <link rel="icon" href="favicon.ico" type="image/x-icon"> 
        <script src="script.js"></script>
    </head>
    <body>
        <h1>SUPERFIRE777のサイト</h1>
        <div id="nav-container"></div>
        <div class="center">
            <h2>数学</h2>
            <h3>素因数分解</h3>
        </div>
        <h4>導入</h4>
        <p>素因数分解は、ある自然数を素数の積に分解することです。</p>
        <p>例えば、12 = 2²×3, 777 = 3×7×37となります。</p>
        <p>人力で素因数分解をするときには「すだれ算」とかいうのをしましたね。</p>
        <p>プログラムはnを入力として、2, 3, 4, 5, …, n-1と順番に割っていくという単純なものが考えられます。</p>
        <p>割れたら割るので数がだんだん小さくなっていきます。</p>
        <p>しかし、素数を入力されると割れないので数が減りません。</p>
        <p><ruby>9007199254740881<rt>9007兆1992億5474万0881</rt></ruby>とかいうデカい素数を入力されたら、とんでもなく時間がかかってしまいます。</p>    
        <p>1秒に10億回ループできるとしても、3か月以上かかってしまいます。</p>
        <p>それではツールとして役に立たないので、あるテクニックを利用します。</p>
        <h4>テクニックその1</h4>
        <p>それは、<b>√nまでで割り切れなければ処理を打ち切ってもよい</b>というものです。</p>
        <p>例えば、15が5で割れることを発見したとしましょう。</p>
        <p>ところが、2から順に割っていくと3で割れることがわかります。</p>
        <p>一般に、√nより大きい約数が存在するとしたら、√nより小さい約数も存在するはずです。</p>
        <p>なぜなら、√nより大きい約数aを見つけたら、n/aという√nより小さい約数も見つかるからです。</p>
        <p>つまり、√nより大きい整数を試すのは無駄であるということです。</p>
        <p>これを利用すると、割る数の最大値を√nまで一気に減らすことができます。</p>
        <p>これでかなりの高速化になりますが、素数のある特徴を利用すると、もう少し高速化できます。</p>
        <h4>テクニックその2</h4>
        <p>それは、<b>5以上の全ての素数は全て6n+1または6n-1(nは1以上の整数)の形になる</b>というものです。</p>
        <p>6で割った余りで分類して確かめてみます。</p>
        <table>
            <tr>
                <th>6で割ったあまり</th>
                <th>式</th>
                <th>分かること</th>
            </tr>
            <tr>
                <td>0</td>
                <td>6n+0 = 2･3･n</td>
                <td>2と3で割れる</td>
            </tr>
            <tr>
                <td>1</td>
                <td>6n+1</td>
                <td>2でも3でも割れない</td>
            </tr>
            <tr>
                <td>2</td>
                <td>6n+2 = 2(3n+1)</td>
                <td>2で割れる</td>
            </tr>
            <tr>
                <td>3</td>
                <td>6n+3 = 3(2n+1)</td>
                <td>3で割れる</td>
            </tr>
            <tr>
                <td>4</td>
                <td>6n+4 = 2(3n+2)</td>
                <td>2で割れる</td>
            </tr>
            <tr>
                <td>5</td>
                <td>6n+5</td>
                <td>2でも3でも割れない</td>
            </tr>
        </table>
        <p>6n+1と6n+5は素数かどうかはわかりませんが、それ以外の数は確実に素数でないことがわかります。</p>
        <p>n = 1のとき、6n - 1 = 5なので、6n+5は6n-1に書き直せます。</p>
        <p>つまり、5以上の素数は6n+1または6n-1の形で表すことができ、それ以外の数で割るのは無駄ということがわかります。</p>
        <p>これで割る数が約1/3に減りました。</p>
        <h4>終わりに</h4>
        <p>ツールの素因数分解は、これらのテクニックを使用して高速化を図っています。</p>
        <p>それでも環境次第では時間かかりますが。</p>
    </body>    
</html>
